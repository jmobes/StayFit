(this["webpackJsonpstay-fit"]=this["webpackJsonpstay-fit"]||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},102:function(e,t,s){},103:function(e,t,s){},104:function(e,t,s){},200:function(e,t,s){},201:function(e,t,s){},203:function(e,t,s){"use strict";s.r(t);var c=s(0),n=s.n(c),r=s(33),a=s.n(r),i=s(5),o=s.n(i),l=s(7),u=s(4),_=s(9),j=s(6),d=(s(83),s(84),s(35)),b=s.n(d),x=s(37),h=s.n(x),m=s(1),p=Object(j.g)((function(e){var t=Object(c.useState)(""),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),_=i[0],j=i[1],d=function(){var t=Object(l.a)(o.a.mark((function t(s){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.preventDefault(),t.next=3,e.login(n,_);case 3:t.sent&&e.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)("form",{onSubmit:d,className:"form__login",children:[Object(m.jsxs)("div",{className:"".concat(e.error?"form__login__email error":"form__login__email"),children:[Object(m.jsx)(b.a,{className:"icon-email",style:{fontSize:30,color:"#fff"}}),Object(m.jsx)("input",{type:"email",className:"form__login__email__input",placeholder:"".concat(e.error?"Invalid email":"stayfit@gmail.com"),onChange:function(e){return r(e.target.value)},value:n})]}),Object(m.jsxs)("div",{className:"".concat(e.error?"form__login__password error":"form__login__password"),children:[Object(m.jsx)(h.a,{className:"icon-password",style:{fontSize:30,color:"#fff"}}),Object(m.jsx)("input",{type:"password",className:"form__login__password__input",placeholder:"".concat(e.error?"Invalid password":"password"),onChange:function(e){return j(e.target.value)},value:_})]}),Object(m.jsx)("input",{type:"submit",value:"Login",className:"button__login"})]})})),O=(s(94),function(e){return Object(m.jsx)("div",{className:"spinner__container",children:Object(m.jsx)("div",{className:"spinner__overlay",children:Object(m.jsx)("div",{className:"spinner"})})})}),f=Object(j.g)((function(e){return Object(m.jsxs)(m.Fragment,{children:[e.loading?Object(m.jsx)(O,{}):null,Object(m.jsxs)("h1",{className:"title",children:[Object(m.jsx)("span",{className:"title__text title__text--1",children:"Stay Fi"}),Object(m.jsx)("span",{className:"title__text title__text--2",children:"T"})]}),Object(m.jsx)(p,{login:e.login,error:e.error}),Object(m.jsxs)("p",{className:"login__guest",children:["Login as"," ",Object(m.jsx)("span",{onClick:Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.login("guest@guest.com","guest");case 2:t.sent&&e.history.push("/");case 4:case"end":return t.stop()}}),t)}))),className:"login__guest--text",children:"GUEST"})]}),Object(m.jsxs)("p",{className:"link__signup",children:["Don't have an account?"," ",Object(m.jsx)(_.b,{to:"/signup",children:Object(m.jsx)("span",{className:"link__signup--text",children:"Signup here"})})]})]})})),g=(s(95),s(72)),v=s.n(g),N=Object(j.g)((function(e){var t=Object(c.useState)(""),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(""),i=Object(u.a)(a,2),j=i[0],d=i[1],x=Object(c.useState)(""),p=Object(u.a)(x,2),O=p[0],f=p[1],g=Object(c.useState)(!1),N=Object(u.a)(g,2),S=N[0],w=N[1],y=Object(c.useState)(!1),k=Object(u.a)(y,2),C=k[0],E=k[1],I=Object(c.useState)(!1),T=Object(u.a)(I,2),z=T[0],L=T[1],J=Object(c.useState)(""),P=Object(u.a)(J,2),D=P[0],F=P[1],A=function(){var t=Object(l.a)(o.a.mark((function t(s){var c,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),n&&j&&O){t.next=4;break}return F("Please fill out all fields"),t.abrupt("return");case 4:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:j,password:O})},t.prev=5,t.next=8,fetch("/api/users",c);case 8:return r=t.sent,t.next=11,r.json();case 11:if(a=t.sent,r.ok){t.next=14;break}throw new Error(a);case 14:e.history.push("/"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),F(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h1",{className:"title",children:[Object(m.jsx)("span",{className:"title__text title__text--1",children:"Stay Fi"}),Object(m.jsx)("span",{className:"title__text title__text--2",children:"T"})]}),Object(m.jsxs)("form",{onSubmit:A,className:"form__signup",children:[Object(m.jsxs)("div",{className:"".concat(!n&&S?"form__signup__username form__signup__error":"form__signup__username"),children:[Object(m.jsx)(v.a,{className:"icon-person",style:{fontSize:30,color:"#fff"}}),Object(m.jsx)("input",{type:"text",className:"form__signup__username__input",placeholder:"username",onChange:function(e){return r(e.target.value)},value:n,required:!0,onBlur:function(){return w(!0)}})]}),Object(m.jsxs)("div",{className:"".concat(!j&&C?"form__signup__email form__signup__error":"form__signup__email"),children:[Object(m.jsx)(b.a,{className:"icon-email",style:{fontSize:30,color:"#fff"}}),Object(m.jsx)("input",{type:"email",className:"form__signup__email__input",placeholder:"stayfit@gmail.com",onChange:function(e){return d(e.target.value)},value:j,required:!0,onBlur:function(){return E(!0)}})]}),Object(m.jsxs)("div",{className:"".concat(!O&&z?"form__signup__password form__signup__error":"form__signup__password"),children:[Object(m.jsx)(h.a,{className:"icon-password",style:{fontSize:30,color:"#fff"}}),Object(m.jsx)("input",{type:"password",className:"form__signup__password__input",placeholder:"password",onChange:function(e){return f(e.target.value)},value:O,required:!0,onBlur:function(){return L(!0)}})]}),D&&Object(m.jsx)("p",{className:"signup__error",children:D}),Object(m.jsx)("input",{type:"submit",value:"Signup",className:"button__signup"})]}),Object(m.jsx)(_.b,{to:"/login",children:Object(m.jsx)("p",{className:"signup__cancel",children:"Back to Login"})})]})})),S=(s(96),s(97),Object(j.g)((function(e){return Object(m.jsx)("button",{onClick:function(){e.logout&&e.logout(),e.history.push(e.logout?"/login":"/")},className:"header__button",children:e.text})}))),w=s(38),y=s.n(w),k=s(39),C=s.n(k),E=s(40),I=s.n(E),T=s(41),z=s.n(T),L=function(e){return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)("div",{className:"home__header",children:Object(m.jsx)(S,{text:"logout",logout:e.logout})}),Object(m.jsx)("div",{className:"home__nav",children:Object(m.jsxs)("ul",{className:"home__nav__list",children:[Object(m.jsx)(_.b,{to:"/workout",children:Object(m.jsxs)("li",{className:"home__nav__list__item",children:[Object(m.jsx)("div",{className:"home__nav__list__item--bg",children:Object(m.jsx)(y.a,{style:{fontSize:100}})}),Object(m.jsx)("p",{className:"home__nav__list__item__text",children:"workout"})]})}),Object(m.jsx)(_.b,{to:"/history",children:Object(m.jsxs)("li",{className:"home__nav__list__item",children:[Object(m.jsx)("div",{className:"home__nav__list__item--bg",children:Object(m.jsx)(C.a,{style:{fontSize:100}})}),Object(m.jsx)("p",{className:"home__nav__list__item__text",children:"history"})]})}),Object(m.jsx)(_.b,{to:"/progress",children:Object(m.jsxs)("li",{className:"home__nav__list__item",children:[Object(m.jsx)("div",{className:"home__nav__list__item--bg",children:Object(m.jsx)(I.a,{style:{fontSize:100}})}),Object(m.jsx)("p",{className:"home__nav__list__item__text",children:"progress"})]})}),Object(m.jsx)(_.b,{to:"/records",children:Object(m.jsxs)("li",{className:"home__nav__list__item",children:[Object(m.jsx)("div",{className:"home__nav__list__item--bg",children:Object(m.jsx)(z.a,{style:{fontSize:100}})}),Object(m.jsx)("p",{className:"home__nav__list__item__text",children:"records"})]})})]})})]})},J=s(25),P=(s(98),s(20)),D=s.n(P),F=(s(99),s(100),s(52)),A=s.n(F),B=function(e){var t=JSON.parse(localStorage.getItem("user")).userId;return Object(m.jsxs)("div",{className:"exercise__list__item__container",children:[Object(m.jsx)("p",{onClick:function(){return e.showLogExercise(e.exercise)},className:"exercise__list__item",children:e.exercise.name}),e.showEdit&&t===e.exercise.user_id&&Object(m.jsx)(A.a,{className:"exercise__list__item__icon",style:{fontSize:25},onClick:function(){return e.delete(e.exercise.exercise_id)}})]})},M=function(e){var t=Object(c.useState)(),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(!1),i=Object(u.a)(a,2),o=i[0],l=i[1],_=Object(c.useState)(),j=Object(u.a)(_,2),d=(j[0],j[1]);Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){var t=e.token,s=e.userId;fetch("/api/exercises/".concat(s),{headers:{Authorization:t}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return r(null)}))}else r(null)}),[]);var b=function(e){fetch("/api/routine-data/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r(n.filter((function(t){return t.exercise_id!==e.exercise_id})))})).catch((function(e){return d(e)}))};return Object(m.jsxs)("div",{className:"exercise__list",children:[Object(m.jsxs)("div",{className:"exercise__list__headers",children:[Object(m.jsx)("div",{onClick:function(){return e.showList(!1)},className:"exercise__list__headers__cancel",children:"cancel"}),Object(m.jsx)("div",{onClick:function(){return l(!o)},className:"exercise__list__headers__edit ".concat(o?"exercise__list__headers__edit--active":""),children:"edit"}),Object(m.jsx)(D.a,{className:"exercise__list__headers__add",style:{fontSize:35},onClick:e.showAddExercise})]}),Object(m.jsx)("div",{className:"exercise__list__container",children:n&&n.map((function(t){return Object(m.jsx)(B,{exercise:t,delete:b,showEdit:o,showLogExercise:e.showLogExercise},t.exercise_id)}))})]})},W=(s(101),function(e){var t=Object(c.useState)(""),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(),i=Object(u.a)(a,2),o=(i[0],i[1]);return Object(m.jsxs)("div",{className:"exercise__create",children:[Object(m.jsx)("p",{className:"exercise__create__title",children:"Exercise Name"}),Object(m.jsx)("input",{placeholder:"barbell squat",type:"text",className:"exercise__create__input",onChange:function(e){return r(e.target.value)}}),Object(m.jsx)("p",{className:"exercise__create__error ".concat(!n||n.length>=3?"hidden":""),children:"Exercise must be at least 3 characters"}),Object(m.jsx)("button",{onClick:function(){var t=JSON.parse(localStorage.getItem("user")).userId.toString();if(n&&!(n.length<3)&&t){var s={user_id:t,name:n},c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};fetch("/api/exercises",c).then((function(e){return e.json()})).then((function(e){return o})).catch((function(e){return console.error(e)})),e.hideCreateExercise()}},className:"exercise__create__btn--add",children:"Add Exercise"}),Object(m.jsx)("button",{onClick:e.hideCreateExercise,className:"exercise__create__btn--cancel",children:"Cancel"})]})}),q=(s(102),function(e){var t=Object(c.useState)(),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(),i=Object(u.a)(a,2),_=i[0],j=i[1],d=Object(c.useState)([{set:1,weight:"",reps:""}]),b=Object(u.a)(d,2),x=b[0],h=b[1],p=Object(c.useState)(""),O=Object(u.a)(p,2),f=O[0],g=O[1],v=Object(c.useState)(),N=Object(u.a)(v,2),S=(N[0],N[1]);Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));if(t){var s=t.userId;r(e.exercise.exercise_id),j(s)}}),[]);var w=function(e){if(Number(e.target.value)||""===e.target.value){var t=Object(J.a)(x);t[e.target.dataset.index][e.target.dataset.category]=e.target.value,h(t)}},y=function(e){try{x.map((function(t){var s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reps:t.reps,weight:t.weight,routine_exercise_id:e.toString(),user_id:_.toString()})};fetch("/api/stats",s).then((function(e){return e.json()})).then((function(e){return S(e)})).catch((function(e){return g(e.message)}))}))}catch(t){g(t.message)}},k=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s,c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("/api/routines/null-date/".concat(_));case 5:return t=e.sent,e.next=8,t.json();case 8:if(!((s=e.sent).length>0)){e.next=11;break}return e.abrupt("return",new Promise((function(e,t){e(s[0].routine_id)})));case 11:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:_.toString()})},e.next=14,fetch("/api/routines",c);case 14:return n=e.sent,e.next=17,n.json();case 17:return r=e.sent,e.abrupt("return",new Promise((function(e,t){e(r.routine_id)})));case 21:e.prev=21,e.t0=e.catch(2),g(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[2,21]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var s,c,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,(s=t)&&n){e.next=6;break}return e.abrupt("return");case 6:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({routine_id:s.toString(),exercise_id:n.toString()})},e.next=9,fetch("/api/routine-exercises",c);case 9:return r=e.sent,e.next=12,r.json();case 12:return a=e.sent,e.abrupt("return",new Promise((function(e,t){e(a.routine_exercise_id)})));case 16:e.prev=16,e.t0=e.catch(2),g(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"log__exercise",children:[Object(m.jsx)("h3",{className:"log__exercise__title",children:e.exercise.name}),Object(m.jsxs)("div",{className:"log__exercise__data",children:[Object(m.jsxs)("div",{className:"log__exercise__data__columns",children:[Object(m.jsx)("h4",{className:"log__exercise__data__column",children:"Set"}),Object(m.jsx)("h4",{className:"log__exercise__data__column",children:"Weight"}),Object(m.jsx)("h4",{className:"log__exercise__data__column",children:"Reps"})]}),Object(m.jsx)("div",{className:"log__exercise__data__rows",children:x.map((function(e,t){return Object(m.jsxs)("div",{className:"log__exercise__data__row",children:[Object(m.jsx)("input",{placeholder:"set",type:"text",className:"log__exercise__data__row__item",value:e.set,readOnly:!0,"data-category":"set","data-index":t}),Object(m.jsx)("input",{placeholder:"weight",type:"text",className:"log__exercise__data__row__item","data-category":"weight","data-index":t,value:x[t].weight,onChange:w}),Object(m.jsx)("input",{placeholder:"reps",type:"text",className:"log__exercise__data__row__item","data-category":"reps","data-index":t,value:x[t].reps,onChange:w})]},t)}))})]}),Object(m.jsx)(D.a,{onClick:function(){h([].concat(Object(J.a)(x),[{set:x.length+1,weight:"",reps:""}]))},style:{fontSize:50},className:"add__set__button"}),Object(m.jsxs)("div",{className:"log__exercise__buttons",children:[Object(m.jsx)("button",{onClick:Object(l.a)(o.a.mark((function t(){var s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x.map((function(e){Object.values(e).forEach((function(e,t){if(!e)throw new Error("Please fill out all fields")}))})),t.next=4,k();case 4:return s=t.sent,t.next=7,C(s);case 7:c=t.sent,y(c),e.hideLogExercise(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),g(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),className:"log__exercise__button",children:"Log Exercise"}),Object(m.jsx)("button",{onClick:e.hideLogExercise,className:"cancel__exercise__button",children:"Cancel"})]}),f&&Object(m.jsx)("p",{className:"log__exercise__error",children:f})]})}),R=s(73),U=s.n(R),Y=function(e){var t=Object(c.useState)(!1),s=Object(u.a)(t,2),r=s[0],a=s[1],i=Object(c.useState)(!1),_=Object(u.a)(i,2),j=_[0],d=_[1],b=Object(c.useState)(!1),x=Object(u.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(null),f=Object(u.a)(O,2),g=f[0],v=f[1],N=Object(c.useState)(),w=Object(u.a)(N,2),k=w[0],C=w[1],E=Object(c.useState)(),I=Object(u.a)(E,2),T=I[0],z=I[1],L=Object(c.useState)(!1),P=Object(u.a)(L,2),F=P[0],A=P[1],B=Object(c.useState)(),R=Object(u.a)(B,2),Y=(R[0],R[1]);Object(c.useEffect)(Object(l.a)(o.a.mark((function e(){var t,s,c,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("user"))){e.next=3;break}return e.abrupt("return");case 3:return s=t.userId,e.prev=4,e.next=7,fetch("/api/routines/null-date/".concat(s));case 7:return c=e.sent,e.next=10,c.json();case 10:if(!((n=e.sent).length<1)){e.next=13;break}return e.abrupt("return");case 13:return r=n[0].routine_id,z(r),e.next=17,fetch("/api/routine-data/".concat(s,"/").concat(r));case 17:return a=e.sent,e.next=20,a.json();case 20:i=e.sent,C(i),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),Y(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[4,24]])}))),[r,j,h]);var G,H=function(){var e=Object(l.a)(o.a.mark((function e(t,s){var c,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Number(t)&&Number(s)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch("/api/stats/".concat(s,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,r=Object(J.a)(k),a=r.filter((function(e){return e.routine_exercise_id!==n[0].routine_exercise_id})),C(a);case 11:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return");case 2:return t={method:"PATCH",headers:{"Content-Type":"application/json"}},e.prev=3,e.next=6,fetch("/api/routines/".concat(T),t);case 6:return s=e.sent,e.next=9,s.json();case 9:e.sent,C(null),z(null),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Y(e.t0.message);case 17:A(!0),setTimeout((function(){A(!1)}),5e3);case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return G=r?Object(m.jsx)(M,{showList:a,showAddExercise:function(){d(!0),a(!1)},showLogExercise:function(e){p(!0),a(!1),v(e)}}):j?Object(m.jsx)(W,{hideCreateExercise:function(){return d(!1)}}):h?Object(m.jsx)(q,{hideLogExercise:function(){p(!1)},exercise:g}):Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsxs)("div",{className:"workout__select",onClick:function(){return a(!0)},children:[Object(m.jsx)("p",{className:"workout__select__title",children:"select exercise"}),Object(m.jsx)(D.a,{className:"workout__select__icon",style:{fontSize:30}})]}),Object(m.jsxs)("div",{className:"workout__data",children:[Object(m.jsx)("div",{className:"workout__data__ctn",children:k&&!!k.length&&k.map((function(e,t,s){var c=s[t-1];s[t+1];return c&&c.name===e.name?null:Object(m.jsxs)("div",{className:"workout__data__exercise",children:[Object(m.jsx)("p",{className:"workout__data__exercise__name",children:e.name}),Object(m.jsx)(U.a,{style:{fontSize:35},className:"workout__data__exercise__delete",onClick:function(){return H(e.exercise_id,T)}})]},t)}))}),k&&k.length?Object(m.jsx)("button",{onClick:K,className:"log__workout",children:"Log Workout"}):null]})]}),Object(m.jsxs)("div",{className:"workout",children:[Object(m.jsxs)("div",{className:"workout__header",children:[Object(m.jsx)(S,{text:"home"}),Object(m.jsx)(S,{text:"logout",logout:e.logout})]}),Object(m.jsx)("div",{className:"workout__title",children:Object(m.jsx)(y.a,{className:"workout__icon",style:{fontSize:100}})}),G,Object(m.jsx)("div",{className:"message__modal ".concat(F?"":"hidden"),children:Object(m.jsx)("p",{className:"message__text",children:"Workout Logged"})})]})},G=s(75),H=(s(103),function(e){var t=Object(c.useState)(new Date),s=Object(u.a)(t,2),r=s[0],a=(s[1],Object(c.useState)()),i=Object(u.a)(a,2),o=i[0],l=i[1],_=Object(c.useState)(),j=Object(u.a)(_,2),d=j[0],b=j[1],x=Object(c.useState)(),h=Object(u.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(),g=Object(u.a)(f,2),v=(g[0],g[1]),N=function(e){var t=e.getFullYear(),s=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,c=e.getDate()<10?"0"+e.getDate():e.getDate();return"".concat(t,"-").concat(s,"-").concat(c)};return Object(c.useEffect)((function(){!function(){var e=JSON.parse(localStorage.getItem("user")).userId;b(e);var t=[];fetch("/api/routines/".concat(e)).then((function(e){return e.json()})).then((function(e){e.map((function(e){if(e.date_end){var s=e.date_end.split("T");t.push(s[0])}})),l(t)})).catch((function(e){return v(e)}))}()}),[]),Object(m.jsxs)("div",{className:"history",children:[Object(m.jsxs)("div",{className:"history__header",children:[Object(m.jsx)(S,{text:"home"}),Object(m.jsx)(S,{text:"logout",logout:e.logout})]}),Object(m.jsx)("div",{className:"history__icon",children:Object(m.jsx)(C.a,{style:{fontSize:100}})}),Object(m.jsx)("p",{className:"history__instructions",children:"Select a date to view a past routine."}),Object(m.jsxs)("p",{className:"history__instructions-2",children:["Dates in ",Object(m.jsx)("span",{children:"green"})," have exercise data"]}),Object(m.jsx)("div",{className:"history__calendar",children:Object(m.jsx)(G.a,{onChange:function(e,t){fetch("/api/routine-data/data/".concat(d,"/").concat(N(e))).then((function(e){return e.json()})).then((function(e){O(e)})).catch((function(e){return v(e)}))},value:r,tileClassName:function(e){var t=e.date;e.view;if(o)return o.find((function(e){return e===N(t)}))?"bg-green":void 0}})}),Object(m.jsx)("div",{className:"history__routine",children:p&&p.map((function(e,t,s){var c=s[t-1];s[t+1];return c&&c.name===e.name?Object(m.jsx)("p",{className:"history__routine__set",children:"".concat(e.weight," x ").concat(e.reps)},t):Object(m.jsxs)(n.a.Fragment,{children:[Object(m.jsx)("p",{className:"history__routine__exercise",children:e.name}),Object(m.jsx)("p",{className:"history__routine__set",children:"".concat(e.weight," x ").concat(e.reps)})]},t)}))})]})}),K=(s(104),s(74)),Q=function(e){var t=Object(c.useState)(),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(),i=Object(u.a)(a,2),o=(i[0],i[1]);return Object(c.useEffect)((function(){!function(){var t=e.exercise.user_id,s=e.exercise.exercise_id,c=[],n=[];r(null),o(null),fetch("/api/progress/".concat(t,"/").concat(s)).then((function(e){return e.json()})).then((function(e){e.map((function(e){var t=new Date(e.date_end),s=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear();n.push(s),c.push(e.max)})),r({labels:n,datasets:[{label:"weight",data:c,backgroundColor:"#27e77f",borderColor:"#27e77f",borderWidth:2,fill:!1}]})})).catch((function(e){return console.error(e)}))}()}),[e.exercise]),Object(m.jsx)("div",{className:"graph",children:n&&Object(m.jsx)(K.Line,{data:n,options:{title:{display:!0,text:"".concat(e.exercise.name.toUpperCase()),fontSize:20},responsive:!0,maintainAspectRatio:!1,showLine:!0}})})},V=function(e){var t=Object(c.useState)(),s=Object(u.a)(t,2),n=s[0],r=s[1],a=Object(c.useState)(!1),i=Object(u.a)(a,2),_=i[0],j=i[1],d=Object(c.useState)(),b=Object(u.a)(d,2),x=b[0],h=b[1];return Object(c.useEffect)(Object(l.a)(o.a.mark((function e(){var t,s,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("user"))){e.next=3;break}return e.abrupt("return");case 3:return s=t.userId,e.next=6,fetch("/api/max/".concat(s));case 6:return c=e.sent,e.next=9,c.json();case 9:n=e.sent,r(n);case 11:case"end":return e.stop()}}),e)}))),[]),Object(m.jsxs)("div",{className:"progress",children:[Object(m.jsxs)("div",{className:"progress__header",children:[Object(m.jsx)(S,{text:"home"}),Object(m.jsx)(S,{text:"logout",logout:e.logout})]}),Object(m.jsx)("div",{className:"progress__title",children:Object(m.jsx)(I.a,{style:{fontSize:100}})}),!x&&Object(m.jsx)("div",{className:"progress__instructions",children:"Select an exercise to view a graph of your progress"}),x&&Object(m.jsx)(Q,{exercise:x}),Object(m.jsxs)("div",{onClick:function(){return j(!0)},className:"progress__select__exercise",children:[Object(m.jsx)("p",{className:"progress__select__exercise--text",children:"select exercise"}),Object(m.jsx)(D.a,{className:"progress__select__icon",style:{fontSize:30}})]}),n&&_&&Object(m.jsxs)("div",{className:"progress__exercise__container",children:[Object(m.jsx)("div",{className:"progress__exercise__cancel",children:Object(m.jsx)("span",{onClick:function(){return j(!1)},children:"cancel"})}),Object(m.jsx)("div",{className:"progress__exercise__list",children:n.map((function(e){return Object(m.jsx)("p",{onClick:function(){h(e),j(!1)},className:"progress__exercise",children:e.name},e.exercise_id)}))})]})]})},X=(s(200),function(e){var t=Object(c.useState)(),s=Object(u.a)(t,2),n=s[0],r=s[1];return Object(c.useEffect)(Object(l.a)(o.a.mark((function e(){var t,s,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=JSON.parse(localStorage.getItem("user"))){e.next=3;break}return e.abrupt("return");case 3:return s=t.userId,e.next=6,fetch("/api/max/".concat(s));case 6:return c=e.sent,e.next=9,c.json();case 9:n=e.sent,r(n);case 11:case"end":return e.stop()}}),e)}))),[]),Object(m.jsxs)("div",{className:"records",children:[Object(m.jsxs)("div",{className:"records__header",children:[Object(m.jsx)(S,{text:"home"}),Object(m.jsx)(S,{text:"logout",logout:e.logout})]}),Object(m.jsx)("div",{className:"records__title",children:Object(m.jsx)(z.a,{className:"records__icon",style:{fontSize:100}})}),Object(m.jsx)("div",{className:"records__instructions",children:Object(m.jsx)("p",{className:"records__instructions--1",children:"Each row is the heaviest weight lifted for the given exercise"})}),Object(m.jsxs)("div",{className:"records__data",children:[Object(m.jsxs)("div",{className:"records__data__label",children:[Object(m.jsx)("p",{className:"records__data__label--exercise",children:"Exercise"}),Object(m.jsx)("p",{className:"records__data__label--weight",children:"Weight"})]}),n&&n.length?n.map((function(e){return Object(m.jsxs)("div",{className:"records__data__row",children:[Object(m.jsx)("p",{className:"records__data__row--exercise",children:e.name}),Object(m.jsx)("p",{className:"records__data__row--weight",children:e.max_weight})]},e.exercise_id)})):Object(m.jsx)("p",{className:"records__message",children:"No exercise data available"})]})]})}),Z=s(26),$=s(76),ee=function(e){var t=e.component,s=Object($.a)(e,["component"]);return!!JSON.parse(localStorage.getItem("user"))?Object(m.jsx)(j.b,Object(Z.a)(Object(Z.a)({},s),{},{render:function(e){return Object(m.jsx)(t,Object(Z.a)(Object(Z.a)({},s),e))}})):Object(m.jsx)(j.a,{to:"/login"})},te=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),s=(t[0],t[1]),n=Object(c.useState)(),r=Object(u.a)(n,2),a=r[0],i=r[1],d=Object(c.useState)(!1),b=Object(u.a)(d,2),x=b[0],h=b[1],p=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&c||i("Please enter email and password"),h(!0),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:c})},e.prev=3,e.next=6,fetch("/api/authenticate",n);case 6:return r=e.sent,e.next=9,r.json();case 9:if(a=e.sent,r.ok){e.next=12;break}throw new Error(a);case 12:s(a.token),localStorage.setItem("user",JSON.stringify({userId:a.userId,token:a.token})),i(null),e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(3),i(e.t0.message||"Something went wrong"),h(!1),e.abrupt("return",!1);case 22:return h(!1),e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t,s){return e.apply(this,arguments)}}(),O=function(){s(null),i(null),localStorage.removeItem("user")};return Object(m.jsx)(_.a,{children:Object(m.jsxs)(j.d,{children:[Object(m.jsx)(j.b,{path:"/login",render:function(){return Object(m.jsx)(f,{error:a,loading:x,login:p})}}),Object(m.jsx)(j.b,{path:"/signup",component:N}),Object(m.jsx)(ee,{path:"/workout",logout:O,component:Y}),Object(m.jsx)(ee,{path:"/history",logout:O,component:H}),Object(m.jsx)(ee,{path:"/progress",logout:O,component:V}),Object(m.jsx)(ee,{path:"/records",logout:O,component:X}),Object(m.jsx)(ee,{path:"/",exact:!0,logout:O,component:L})]})})};s(201);a.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(te,{})}),document.getElementById("root"))},83:function(e,t,s){},84:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){},99:function(e,t,s){}},[[203,1,2]]]);
//# sourceMappingURL=main.a3b2c4d5.chunk.js.map